<div class="drawer lg:drawer-open">
  <input id="main-drawer" type="checkbox" class="drawer-toggle" />

  <!-- Main Content -->
  <div class="drawer-content flex flex-col min-h-screen bg-base-200">
    <!-- Mobile Navbar -->
    <nav class="navbar bg-white shadow-sm lg:hidden px-4">
      <div class="flex-none">
        <label for="main-drawer" class="btn btn-square btn-ghost">
          <lucide-icon [name]="icons.Menu" class="w-6 h-6"></lucide-icon>
        </label>
      </div>
      <div class="flex-1 flex items-center gap-2">
        <div class="w-8 h-8 rounded-lg bg-gradient-primary flex items-center justify-center">
          <lucide-icon [name]="icons.Car" class="h-5 w-5 text-white"></lucide-icon>
        </div>
        <span
          class="text-lg font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent"
          >ArrowAuto</span
        >
      </div>
    </nav>

    <!-- Page Content -->
    <main class="flex-1 p-4 lg:p-6 animate-fade-in">
      <router-outlet />
    </main>
  </div>

  <!-- Sidebar -->
  <div class="drawer-side z-40">
    <label for="main-drawer" aria-label="close sidebar" class="drawer-overlay"></label>
    <aside class="bg-white w-72 min-h-full flex flex-col border-r border-base-200">
      <!-- Logo Section -->
      <div class="p-6">
        <div class="flex items-center gap-3">
          <div
            class="w-11 h-11 rounded-xl bg-gradient-primary flex items-center justify-center shadow-glow-primary"
          >
            <lucide-icon [name]="icons.Car" class="h-6 w-6 text-white"></lucide-icon>
          </div>
          <div>
            <h1 class="text-xl font-bold">ArrowAuto</h1>
            <p class="text-xs text-base-content/50">Vehicle Management</p>
          </div>
        </div>
      </div>

      <!-- Navigation Menu -->
      <nav class="flex-1 px-4 pb-4 overflow-y-auto">
        <!-- Main Section -->
        <div class="sidebar-section-title">Main</div>
        <ul class="space-y-1 mb-4">
          <li>
            <a
              routerLink="/dashboard"
              routerLinkActive="active"
              [routerLinkActiveOptions]="{ exact: true }"
              class="nav-link"
            >
              <lucide-icon [name]="icons.LayoutDashboard" class="h-5 w-5"></lucide-icon>
              <span>Dashboard</span>
            </a>
          </li>
          <li>
            <a routerLink="/vehicles" routerLinkActive="active" class="nav-link">
              <lucide-icon [name]="icons.Car" class="h-5 w-5"></lucide-icon>
              <span>Vehicles</span>
            </a>
          </li>
        </ul>

        <!-- Operations Section -->
        <div class="sidebar-section-title">Operations</div>
        <ul class="space-y-1 mb-4">
          <li>
            <a routerLink="/inspection" routerLinkActive="active" class="nav-link">
              <lucide-icon [name]="icons.ClipboardCheck" class="h-5 w-5"></lucide-icon>
              <span>Inspection</span>
              <span
                class="ml-auto px-2 py-0.5 text-xs font-semibold rounded-full bg-warning/20 text-warning"
                >3</span
              >
            </a>
          </li>
          <li>
            <a routerLink="/scheduling" routerLinkActive="active" class="nav-link">
              <lucide-icon [name]="icons.Calendar" class="h-5 w-5"></lucide-icon>
              <span>Scheduling</span>
            </a>
          </li>
          <li>
            <a routerLink="/invoicing" routerLinkActive="active" class="nav-link">
              <lucide-icon [name]="icons.FileText" class="h-5 w-5"></lucide-icon>
              <span>Invoicing</span>
            </a>
          </li>
        </ul>

        <!-- Customer Section -->
        <div class="sidebar-section-title">Customer</div>
        <ul class="space-y-1 mb-4">
          <li>
            <a routerLink="/customer-portal" routerLinkActive="active" class="nav-link">
              <lucide-icon [name]="icons.User" class="h-5 w-5"></lucide-icon>
              <span>Customer Portal</span>
              <span
                class="ml-auto px-2 py-0.5 text-xs font-semibold rounded-full bg-error/20 text-error"
                >2</span
              >
            </a>
          </li>
        </ul>

        <!-- Settings Section -->
        <div class="sidebar-section-title">Settings</div>
        <ul class="space-y-1">
          <li>
            <a routerLink="/clients" routerLinkActive="active" class="nav-link">
              <lucide-icon [name]="icons.Users" class="h-5 w-5"></lucide-icon>
              <span>Clients</span>
            </a>
          </li>
          <li>
            <a routerLink="/settings" routerLinkActive="active" class="nav-link">
              <lucide-icon [name]="icons.Settings" class="h-5 w-5"></lucide-icon>
              <span>Settings</span>
            </a>
          </li>
        </ul>
      </nav>

      <!-- User Section -->
      <div class="p-4 border-t border-base-200 bg-base-200/30">
        <div class="flex items-center gap-3">
          <div class="user-avatar">
            <div
              class="w-10 h-10 rounded-xl bg-gradient-primary flex items-center justify-center text-white font-semibold"
            >
              AU
            </div>
            <div class="user-status online"></div>
          </div>
          <div class="flex-1 min-w-0">
            <p class="text-sm font-semibold text-base-content truncate">Admin User</p>
            <p class="text-xs text-base-content/50 truncate">admin&#64;arrowauto.com</p>
          </div>
          <button class="btn btn-ghost btn-sm btn-square hover:bg-base-200">
            <lucide-icon [name]="icons.LogOut" class="h-5 w-5 text-base-content/60"></lucide-icon>
          </button>
        </div>
      </div>
    </aside>
  </div>
</div>
