<aside
  class="h-full bg-base-100 shadow-[4px_0_6px_-1px_rgba(0,0,0,0.08)] border-r border-base-300 flex flex-col transition-all duration-300 ease-in-out overflow-hidden"
  [class.w-72]="!collapsed"
  [class.w-20]="collapsed"
>
  <!-- Logo Section -->
  <div
    class="px-6 flex items-center transition-all duration-300 ease-in-out relative"
    [class.py-6]="!collapsed"
    [class.py-8]="collapsed"
    [class.justify-center]="collapsed"
  >
    <!-- Collapsed: short logo (icon) -->
    <div
      class="rounded-xl bg-base-100 flex items-center justify-center transition-opacity duration-200 ease-in-out absolute"
      [class.opacity-100]="collapsed"
      [class.opacity-0]="!collapsed"
      [class.pointer-events-none]="!collapsed"
    >
      <img src="assets/img/logo/arrow-short-transparent.png" alt="" />
    </div>

    <!-- Expanded: full logo with subtle fade-in animation -->
    <div
      class="transition-all duration-200 ease-in-out"
      [class.opacity-100]="!collapsed"
      [class.translate-y-0]="!collapsed"
      [class.opacity-0]="collapsed"
      [class.translate-y-1]="collapsed"
      [class.pointer-events-none]="collapsed"
    >
      <img class="h-11 w-50" src="assets/img/logo/arrow-black-logo.png" alt="" />
    </div>
  </div>

  <!-- Navigation Menu -->
  <nav
    class="flex-1 px-4 pb-4 overflow-y-auto overflow-x-hidden custom-scrollbar transition-all duration-300 shadow-sm"
    [class.space-y-6]="!collapsed"
    [class.space-y-1]="collapsed"
  >
    <!-- Main Section -->
    <div class="flex flex-col" [class.space-y-1]="collapsed">
      <div
        class="px-2 mb-3 transition-all duration-300 overflow-hidden"
        [class.opacity-0]="collapsed"
        [class.h-0]="collapsed"
        [class.mb-0]="collapsed"
      >
        <span
          class="text-[10px] font-bold text-base-content/40 uppercase tracking-[0.2em] whitespace-nowrap"
        >
          {{ 'SHELL.SIDEBAR.MAIN' | translate }}
        </span>
      </div>
      <ul class="flex flex-col" [class.space-y-1.5]="!collapsed" [class.space-y-1]="collapsed">
        <li>
          <a
            routerLink="/dashboard"
            routerLinkActive="!bg-primary/10 !text-primary shadow-sm"
            [routerLinkActiveOptions]="{ exact: true }"
            class="flex items-center p-3 rounded-xl transition-all duration-200 group hover:bg-base-100 text-base-content/70 hover:text-primary"
            [class.justify-center]="collapsed"
            [title]="collapsed ? ('SHELL.SIDEBAR.DASHBOARD' | translate) : ''"
          >
            <lucide-icon
              [name]="icons.LayoutDashboard"
              class="h-5 w-5 shrink-0 transition-transform group-hover:scale-110"
            ></lucide-icon>
            <span
              class="ml-3 font-medium transition-all duration-300 origin-left whitespace-nowrap"
              [class.opacity-0]="collapsed"
              [class.w-0]="collapsed"
              [class.hidden]="collapsed"
            >
              {{ 'SHELL.SIDEBAR.DASHBOARD' | translate }}
            </span>
          </a>
        </li>
        <li>
          <a
            routerLink="/vehicles"
            routerLinkActive="!bg-primary/10 !text-primary shadow-sm"
            class="flex items-center p-3 rounded-xl transition-all duration-200 group hover:bg-base-100 text-base-content/70 hover:text-primary"
            [class.justify-center]="collapsed"
            [title]="collapsed ? ('SHELL.SIDEBAR.VEHICLES' | translate) : ''"
          >
            <lucide-icon
              [name]="icons.Car"
              class="h-5 w-5 shrink-0 transition-transform group-hover:scale-110"
            ></lucide-icon>
            <span
              class="ml-3 font-medium transition-all duration-300 origin-left whitespace-nowrap"
              [class.opacity-0]="collapsed"
              [class.w-0]="collapsed"
              [class.hidden]="collapsed"
            >
              {{ 'SHELL.SIDEBAR.VEHICLES' | translate }}
            </span>
          </a>
        </li>
      </ul>
    </div>

    <!-- Operations Section -->
    <div class="flex flex-col" [class.space-y-1]="collapsed">
      <div
        class="px-2 mb-3 transition-all duration-300 overflow-hidden"
        [class.opacity-0]="collapsed"
        [class.h-0]="collapsed"
        [class.mb-0]="collapsed"
      >
        <span
          class="text-[10px] font-bold text-base-content/40 uppercase tracking-[0.2em] whitespace-nowrap"
        >
          {{ 'SHELL.SIDEBAR.OPERATIONS' | translate }}
        </span>
      </div>
      <ul class="flex flex-col" [class.space-y-1.5]="!collapsed" [class.space-y-1]="collapsed">
        <li>
          <a
            routerLink="/inspection"
            routerLinkActive="!bg-primary/10 !text-primary shadow-sm"
            class="flex items-center p-3 rounded-xl transition-all duration-200 group hover:bg-base-100 text-base-content/70 hover:text-primary min-w-0"
            [class.justify-center]="collapsed"
            [title]="collapsed ? ('SHELL.SIDEBAR.INSPECTION' | translate) : ''"
          >
            <div class="relative">
              <lucide-icon
                [name]="icons.ClipboardCheck"
                class="h-5 w-5 shrink-0 transition-transform group-hover:scale-110"
              ></lucide-icon>
              <span
                *ngIf="collapsed"
                class="absolute -top-1.5 -right-1.5 w-4 h-4 bg-warning text-[8px] flex items-center justify-center rounded-full text-white font-bold ring-2 ring-white"
                >3</span
              >
            </div>
            <span
              class="ml-3 font-medium transition-all duration-300 origin-left whitespace-nowrap overflow-hidden"
              [class.opacity-0]="collapsed"
              [class.w-0]="collapsed"
              [class.hidden]="collapsed"
            >
              {{ 'SHELL.SIDEBAR.INSPECTION' | translate }}
            </span>
            <span
              *ngIf="!collapsed"
              class="ml-auto px-2 py-0.5 text-[10px] font-bold rounded-lg bg-warning/20 text-warning"
              >3</span
            >
          </a>
        </li>
        <li>
          <a
            routerLink="/inspection-history"
            routerLinkActive="!bg-primary/10 !text-primary shadow-sm"
            class="flex items-center p-3 rounded-xl transition-all duration-200 group hover:bg-base-100 text-base-content/70 hover:text-primary min-w-0"
            [class.justify-center]="collapsed"
            [title]="collapsed ? ('SHELL.SIDEBAR.INSPECTION_HISTORY' | translate) : ''"
          >
            <lucide-icon
              [name]="icons.Clock"
              class="h-5 w-5 shrink-0 transition-transform group-hover:scale-110"
            ></lucide-icon>
            <span
              class="ml-3 font-medium transition-all duration-300 origin-left whitespace-nowrap overflow-hidden"
              [class.opacity-0]="collapsed"
              [class.w-0]="collapsed"
              [class.hidden]="collapsed"
            >
              {{ 'SHELL.SIDEBAR.INSPECTION_HISTORY' | translate }}
            </span>
          </a>
        </li>
        <li>
          <a
            routerLink="/scheduling"
            routerLinkActive="!bg-primary/10 !text-primary shadow-sm"
            class="flex items-center p-3 rounded-xl transition-all duration-200 group hover:bg-base-100 text-base-content/70 hover:text-primary"
            [class.justify-center]="collapsed"
            [title]="collapsed ? ('SHELL.SIDEBAR.SCHEDULING' | translate) : ''"
          >
            <lucide-icon
              [name]="icons.Calendar"
              class="h-5 w-5 shrink-0 transition-transform group-hover:scale-110"
            ></lucide-icon>
            <span
              class="ml-3 font-medium transition-all duration-300 origin-left whitespace-nowrap"
              [class.opacity-0]="collapsed"
              [class.w-0]="collapsed"
              [class.hidden]="collapsed"
            >
              {{ 'SHELL.SIDEBAR.SCHEDULING' | translate }}
            </span>
          </a>
        </li>
        <li>
          <a
            routerLink="/tasks"
            routerLinkActive="!bg-primary/10 !text-primary shadow-sm"
            class="flex items-center p-3 rounded-xl transition-all duration-200 group hover:bg-base-100 text-base-content/70 hover:text-primary"
            [class.justify-center]="collapsed"
            [title]="collapsed ? 'Tasks' : ''"
          >
            <lucide-icon
              [name]="icons.Wrench"
              class="h-5 w-5 shrink-0 transition-transform group-hover:scale-110"
            ></lucide-icon>
            <span
              class="ml-3 font-medium transition-all duration-300 origin-left whitespace-nowrap"
              [class.opacity-0]="collapsed"
              [class.w-0]="collapsed"
              [class.hidden]="collapsed"
            >
              Tasks
            </span>
          </a>
        </li>
        <li>
          <a
            routerLink="/pending-operations"
            routerLinkActive="!bg-primary/10 !text-primary shadow-sm"
            class="flex items-center p-3 rounded-xl transition-all duration-200 group hover:bg-base-100 text-base-content/70 hover:text-primary"
            [class.justify-center]="collapsed"
            [title]="collapsed ? 'Pending Ops' : ''"
          >
            <lucide-icon
              [name]="icons.List"
              class="h-5 w-5 shrink-0 transition-transform group-hover:scale-110"
            ></lucide-icon>
            <span
              class="ml-3 font-medium transition-all duration-300 origin-left whitespace-nowrap"
              [class.opacity-0]="collapsed"
              [class.w-0]="collapsed"
              [class.hidden]="collapsed"
            >
              Pending Ops
            </span>
          </a>
        </li>
        <li>
          <a
            routerLink="/invoicing"
            routerLinkActive="!bg-primary/10 !text-primary shadow-sm"
            class="flex items-center p-3 rounded-xl transition-all duration-200 group hover:bg-base-100 text-base-content/70 hover:text-primary"
            [class.justify-center]="collapsed"
            [title]="collapsed ? ('SHELL.SIDEBAR.INVOICING' | translate) : ''"
          >
            <lucide-icon
              [name]="icons.FileText"
              class="h-5 w-5 shrink-0 transition-transform group-hover:scale-110"
            ></lucide-icon>
            <span
              class="ml-3 font-medium transition-all duration-300 origin-left whitespace-nowrap"
              [class.opacity-0]="collapsed"
              [class.w-0]="collapsed"
              [class.hidden]="collapsed"
            >
              {{ 'SHELL.SIDEBAR.INVOICING' | translate }}
            </span>
          </a>
        </li>
        <li>
          <a
            routerLink="/estimation"
            routerLinkActive="!bg-primary/10 !text-primary shadow-sm"
            class="flex items-center p-3 rounded-xl transition-all duration-200 group hover:bg-base-100 text-base-content/70 hover:text-primary"
            [class.justify-center]="collapsed"
            [title]="collapsed ? 'Estimation' : ''"
          >
            <lucide-icon
              [name]="icons.DollarSign"
              class="h-5 w-5 shrink-0 transition-transform group-hover:scale-110"
            ></lucide-icon>
            <span
              class="ml-3 font-medium transition-all duration-300 origin-left whitespace-nowrap"
              [class.opacity-0]="collapsed"
              [class.w-0]="collapsed"
              [class.hidden]="collapsed"
            >
              Estimation
            </span>
          </a>
        </li>
      </ul>
    </div>

    <!-- Customer Section -->
    <div class="flex flex-col" [class.space-y-1]="collapsed">
      <div
        class="px-2 mb-3 transition-all duration-300 overflow-hidden"
        [class.opacity-0]="collapsed"
        [class.h-0]="collapsed"
        [class.mb-0]="collapsed"
      >
        <span
          class="text-[10px] font-bold text-base-content/40 uppercase tracking-[0.2em] whitespace-nowrap"
        >
          {{ 'SHELL.SIDEBAR.CUSTOMER' | translate }}
        </span>
      </div>
      <ul class="flex flex-col" [class.space-y-1.5]="!collapsed" [class.space-y-1]="collapsed">
        <li>
          <a
            routerLink="/customer-approvals"
            routerLinkActive="!bg-primary/10 !text-primary shadow-sm"
            class="flex items-center p-3 rounded-xl transition-all duration-200 group hover:bg-base-100 text-base-content/70 hover:text-primary min-w-0"
            [class.justify-center]="collapsed"
            [title]="collapsed ? 'Approvals' : ''"
          >
            <div class="relative">
              <lucide-icon
                [name]="icons.User"
                class="h-5 w-5 shrink-0 transition-transform group-hover:scale-110"
              ></lucide-icon>
            </div>
            <span
              class="ml-3 font-medium transition-all duration-300 origin-left whitespace-nowrap overflow-hidden"
              [class.opacity-0]="collapsed"
              [class.w-0]="collapsed"
              [class.hidden]="collapsed"
            >
              Approvals
            </span>
          </a>
        </li>
      </ul>
    </div>

    <!-- Settings Section -->
    <div class="flex flex-col" [class.space-y-1]="collapsed">
      <div
        class="px-2 mb-3 transition-all duration-300 overflow-hidden"
        [class.opacity-0]="collapsed"
        [class.h-0]="collapsed"
        [class.mb-0]="collapsed"
      >
        <span
          class="text-[10px] font-bold text-base-content/40 uppercase tracking-[0.2em] whitespace-nowrap"
        >
          {{ 'SHELL.SIDEBAR.SETTINGS_HEADER' | translate }}
        </span>
      </div>
      <ul class="flex flex-col" [class.space-y-1.5]="!collapsed" [class.space-y-1]="collapsed">
        <li>
          <a
            routerLink="/clients"
            routerLinkActive="!bg-primary/10 !text-primary shadow-sm"
            class="flex items-center p-3 rounded-xl transition-all duration-200 group hover:bg-base-100 text-base-content/70 hover:text-primary"
            [class.justify-center]="collapsed"
            [title]="collapsed ? ('SHELL.SIDEBAR.CLIENTS' | translate) : ''"
          >
            <lucide-icon
              [name]="icons.Users"
              class="h-5 w-5 shrink-0 transition-transform group-hover:scale-110"
            ></lucide-icon>
            <span
              class="ml-3 font-medium transition-all duration-300 origin-left whitespace-nowrap"
              [class.opacity-0]="collapsed"
              [class.w-0]="collapsed"
              [class.hidden]="collapsed"
            >
              {{ 'SHELL.SIDEBAR.CLIENTS' | translate }}
            </span>
          </a>
        </li>
        <li>
          <a
            routerLink="/settings"
            routerLinkActive="!bg-primary/10 !text-primary shadow-sm"
            class="flex items-center p-3 rounded-xl transition-all duration-200 group hover:bg-base-100 text-base-content/70 hover:text-primary"
            [class.justify-center]="collapsed"
            [title]="collapsed ? ('SHELL.SIDEBAR.SETTINGS_LINK' | translate) : ''"
          >
            <lucide-icon
              [name]="icons.Settings"
              class="h-5 w-5 shrink-0 transition-transform group-hover:scale-110"
            ></lucide-icon>
            <span
              class="ml-3 font-medium transition-all duration-300 origin-left whitespace-nowrap"
              [class.opacity-0]="collapsed"
              [class.w-0]="collapsed"
              [class.hidden]="collapsed"
            >
              {{ 'SHELL.SIDEBAR.SETTINGS_LINK' | translate }}
            </span>
          </a>
        </li>
      </ul>
    </div>
  </nav>
</aside>
